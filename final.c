#pragma config(Sensor, S1,     frontSensor,    sensorSONAR)
#pragma config(Sensor, S2,     leftSensor,     sensorSONAR)
#pragma config(Motor,  motorA,          shooter,       tmotorNXT, PIDControl, encoder)
#pragma config(Motor,  motorB,          leftMotor,     tmotorNXT, PIDControl, encoder)
#pragma config(Motor,  motorC,          rightMotor,    tmotorNXT, PIDControl, encoder)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

void moveForwards()
{
	motor[leftMotor] = 20;
	motor[rightMotor] = 20;
}

/*void stopMove()
{
	motor[leftMotor] = 0;
	motor[rightMotor] = 0;
}*/

void turnLeft()
{
	motor[leftMotor] = -20;
	motor[rightMotor] = 20;
	wait1Msec(1000);
	motor[leftMotor] = 0;
	motor[rightMotor] = 0;
}

void turnRight()
{
	motor[leftMotor] = 20;
	motor[rightMotor] = -20;
	wait1Msec(1000);
	motor[leftMotor] = 0;
	motor[rightMotor] = 0;
}

task main()
{
	//1. Measuring the size of room before navigation
	int length = SensorValue[leftSensor];
	int width = SensorValue[frontSensor];
	wait1Msec(3000);

	int count = 0;
  while(true)   /* While the Sonar Sensor readings are greater */
	{

		if(SensorValue[frontSensor] > 18)
		{
			moveForwards();
		}
		else
		{
			if(count == 0)
			{
				if (SensorValue[leftSensor] > 18) {
					turnLeft();

					moveForwards();
					wait1Msec(500);

					turnLeft();
					count = 1;
					continue;
				}
			}
			else
			{
				turnRight();

				moveForwards();
				wait1Msec(500);

				turnRight();
				count = 0;
				continue;
			}
		}

	}
}
